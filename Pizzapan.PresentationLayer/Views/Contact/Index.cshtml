@model List<Contact>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    int count = 0;
}

@*<h1>Gelen Mesajlar</h1>

<table class="table table-bordered">
    <tr>
        <th>#</th>
        <th>Gönderen</th>
        <th>Konu</th>
        <th>Tarih</th>
        <th>Mesajı Sil</th>
        <th>Mesajı Gör</th>
    </tr>
    @foreach (var item in Model)
    {
        count++;
        <tr>
            <td>@count</td>
            <td>@item.Name</td>
            <td>@item.Subject</td>
            <td>@(((DateTime)item.SendDateMessage).ToString("dd-MMM-yyyy"))</td>
            <td><a href="/Contact/DeleteContact/@item.ContactID" class="btn btn-outline-danger">Mesajı Sil</a></td>
            <td> <a href="/Contact/MessageDetailsContact/@item.ContactID" class="btn btn-outline-info">Mesajı Gör</a></td>
        </tr>
    }
</table>*@


<h1>Gelen Mesajlar</h1>
<table class="table table-bordered">
    <tr>
        <th>#</th>
        <th>Gönderen</th>
        <th>Konu</th>
      @*  <th>Tarih</th>*@
        <th>Mesajı Sil</th>
        <th>Mesajı Gör</th>
    </tr>
    @foreach (var item in Model)
    {
        count++;
        <tr>
            <td>@count</td>
            <td>@item.Name</td>
            <td>@item.Subject</td>
  @*          <td>@(((DateTime)item.SendDateMessage).ToString("dd-MM-yyyy"))</td>*@
            <td><a class="btn btn-danger" href="/Contact/DeleteContact/@item.ContactID">Mesajı Sil</a></td>
            @*<td><a class="btn btn-info" href="/Contact/MessageDetailsContact/@item.ContactID">Mesajı Gör</a></td>*@
            <td>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal-@item.ContactID">
                    Mesajı Göster
                </button>
            </td>
            <div class="modal fade" id="exampleModal-@item.ContactID" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">@item.Email</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            @item.Message
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Çıkış</button>
                        </div>
                    </div>
                </div>
            </div>
        </tr>
    }
</table>